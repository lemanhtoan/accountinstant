<?php
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0)
 * that is bundled with this package in the file LICENSE_AFL.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category    design
 * @package     base_default
 * @copyright   Copyright (c) 2009 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license     http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 */

/**
 * Shoping cart sidebar
 *
 * @see Mage_Checkout_Block_Cart_Sidebar
 */

?>
<?php $_cartQty = $this->getSummaryCount() ?>
<div id="cart1" class="btn-group btn-block">
    <button type="button" data-toggle="modal" data-target="#modal-cart" data-loading-text="Loading..." class="btn btn-primary btn-block dropdown-toggle">
        <i class="fa fa-shopping-cart" aria-hidden="true"></i>

        <span id="cart-total"><span class="products"><b><?php if ($_cartQty >1) {
                        echo $_cartQty .' products';
                    } else {
                        echo $_cartQty.' product';
                    }?></b> </span><span class="prices"><b><?php echo Mage::helper('checkout')->formatPrice($this->getSubtotal()) ?></b></span></span>
        <i class="fa fa-angle-down"></i>
    </button>
</div>
<!-- Modal -->
<div id="modal-cart" class="modal fade" role="dialog">
    <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal">&times;</button>
                <h4 class="modal-title"><i class="fa fa-shopping-basket" aria-hidden="true"></i>  Shopping Cart</h4>
            </div>
            <div class="modal-body">
                <div class="block-content">
                    <?php $_items = $this->getRecentItems() ?>
                    <?php if(count($_items)) { ?>
                        <ol id="cart-sidebar-" class="mini-products-list-">
                            <?php foreach($_items as $_item): ?>
                                <?php echo $this->getItemHtml($_item) ?>
                            <?php endforeach; ?>
                        </ol>
                    <?php } else {  ?>
                        <?php echo $this->__('Empty cart.') ?>
                    <?php } ?>


                </div>
            </div>
            <div class="modal-footer">
                <div class="col-md-4"><a class="btn btn-default btn-block" data-dismiss="modal">Back to Shop</a></div>
                <div class="col-md-4"><a href="<?php echo Mage::getBaseUrl().'checkout/cart';?>" class="btn btn-default btn-block">View Cart</a></div>
                <div class="col-md-4">
                    <a  class="btn btn-block btn-success" href="<?php echo Mage::getBaseUrl().'checkout/onepage' ?>"><?php echo $this->__('Checkout') ?></a>
               </div>
            </div>
        </div>

    </div>
</div>

<style>

   #cart1 #cart-total span.price{color:#fff;font-size:13px}#cart1>.btn #cart-total{display:block;color:#fff;text-align:left;margin-left:20px;margin-right:15px}#cart1 .prices,#cart1 .products{line-height:16px;font-size:13px;display:block}#cart1{position:relative;border-radius:5px;margin-bottom:20px;z-index:1010;margin-left:10px;margin-top:-7px}#cart1>.btn{background:#0087c9;border-radius:5px;padding:4px 0 4px 10px;line-height:32px;text-align:left;display:inline-flex}#cart1>.btn>.fa.fa-angle-down{line-height:32px;float:right;color:#fff}#cart1 .fa-shopping-cart{font-size:26px}#modal-cart .modal-title{text-align:left}#modal-cart button.btn-success{background:red!important;border-color:red}#modal-cart .modal-body,#modal-cart .modal-footer{float:left;width:100%;background:#fff}#modal-cart .modal-content{border-radius:0}#modal-cart .product-details{width:70%;float:left;text-align:left;margin-left:50px}#modal-cart .btn-remove2{margin-top:15px}@media screen and (max-width:768px){#modal-cart .product-details{width:50%;margin-left:0}.navigationTop-{margin-right:10%}.modal-footer .col-md-4{margin-top:15px}.dn-footer-bottom ul{margin-top:10px!important;float:left!important}.dn-footer-bottom p{margin-top:145px!important}.onestepcheckout-index-index .dn-footer-bottom p{margin-top:5px!important}}
   a.btn.btn-block.btn-success {
    background: #f00;
}
#onestepcheckout-button-place-order span {
    font-size: 15px;
}

.onestepcheckout-index-index #onestepcheckout-login-popup {
    display: none;
}
#checkout-review-table-wrapper .data-table tfoot tr td {
    background: none !important;
}
    
</style>